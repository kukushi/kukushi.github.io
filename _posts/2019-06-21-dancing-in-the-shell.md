---
layout: post
title: åœ¨å‘½ä»¤è¡Œä¸­èˆè¹ˆ
categories:
- iOS
tags: [Shell, productivity]
status: publish
type: post
published: true
meta:
  structured_content: '{"oembed":{},"overlay":true}'
  _thumbnail_id: '90'
---

åœ¨æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ï¼Œé€šå¸¸æœ‰ä¸€éƒ¨åˆ†é‡å¤æ€§çš„å·¥ä½œã€‚è¿™äº›å·¥ä½œä¸€èˆ¬å¤æ‚åº¦å¾ˆä½ï¼Œå¯¹è®¤çŸ¥è¦æ±‚ä¸é«˜ï¼Œå±äºæµ®æµ…å·¥ä½œï¼Œå­˜åœ¨å¾ˆå¤§çš„è‡ªåŠ¨åŒ–ç©ºé—´ï¼Œå› æ­¤æœ€é€‚åˆåœ¨å‘½ä»¤è¡Œä¸­å®Œæˆã€‚å°†è¿™ç±»å·¥ä½œå°½é‡ç®€åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥æ›´ä¸“æ³¨çš„æŠ•å…¥åˆ°æ›´æœ‰ä»·å€¼çš„æ·±åº¦å·¥ä½œä¸­ï¼Œæå‡å·¥ä½œæ•ˆç‡ã€‚

æœ¬æ–‡æ€»ç»“äº†å¸®åŠ©æˆ‘èŠ‚çœäº†æ— æ•°æ—¶é—´çš„ä¸€äº›ç»éªŒï¼Œå¸Œæœ›å¯¹ä½ ä¹Ÿæœ‰å¸®åŠ©ã€‚

## ç›®å½•å®šä½

åœ¨ç»ˆç«¯ä¸­ï¼Œå®šä½åˆ°æŒ‡å®šç›®å½•é€šå¸¸éœ€è¦æ•°æ¬¡çš„ `cd` ä¸ `ls`ï¼Œç¹ççš„æ“ä½œè®©æ¯ä¸€ä¸ªæƒ³æ‰“å¼€ç»ˆç«¯çš„äººå´æ­¥ã€‚

æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå·¥å…·åœ¨ç›®å½•ä¹‹é—´å¿«é€Ÿè·³è½¬ï¼Œè€Œ [`fasd`](https://github.com/clvv/fasd) æ­£æ˜¯è¿™æ ·çš„å·¥å…·ã€‚`fasd` å¸®åŠ©æˆ‘ä»¬ç›´æ¥è·³è½¬åˆ‡æ¢è¿‡çš„ç›®å½•ã€‚

```shell
$ j some_directory
```

> å¯¹äºä¸€äº›å·²ç»åœ¨ Finder ä¸­æ‰“å¼€äº†ç›®å½•çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ [go2Shell](https://zipzapmac.com/Go2Shell) åœ¨å‘½ä»¤è¡Œç›´æ¥åˆ‡æ¢åˆ°å½“å‰ç›®å½•ã€‚

åœ¨ä½¿ç”¨ `fasd` çš„åˆæœŸï¼Œå®ƒé€šå¸¸èƒ½ç™¾åˆ†ç™¾å‘½ä¸­æˆ‘ä»¬é¢„æœŸçš„ç›®å½•ã€‚ç„¶è€Œç»è¿‡ä¸€æ®µä½¿ç”¨ä¹‹åï¼Œè¿™æ®µæ—¶é—´å†…åˆ‡æ¢è¿‡çš„ç›®å½•å¯èƒ½ä¼šæ±¡æŸ“ `fasd` çš„é¢„æµ‹ç»“æœã€‚

ç®€å•æŸ¥é˜… `fasd` çš„æ–‡æ¡£ï¼Œå¯ä»¥çŸ¥é“å®ƒçš„æ•°æ®å­˜å‚¨åœ¨ `~/.fasd` æ–‡ä»¶ä¸­ï¼Œæ¯ä¸€è¡Œå­˜å‚¨äº†ç›®å½•çš„ç›¸å…³ä¿¡æ¯:

```shell
/Users/kukushi/Documents/Project|10.7195|1547211464
```

`|` åˆ’åˆ†äº†ç›®å½•ï¼Œè®¿é—®é¢‘ç‡ï¼Œä¸Šä¸€æ¬¡è®¿é—®æ—¶é—´ã€‚åˆ©ç”¨è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ `.fasd` è¿›è¡Œä¸€äº›æ¸…ç†ã€‚äºæ˜¯ä¹ï¼Œæˆ‘ç¼–å†™äº†[ä¸€ä¸ªè„šæœ¬](https://gist.github.com/kukushi/d1223b1a021addce3cd2a2a3cab6d726)æ‰§è¡Œä¸€äº›ç®€å•çš„æ¸…ç†ï¼Œè®©è·³è½¬æ›´åŠ çš„ç²¾ç¡®ã€‚

å°†ä»¥ä¸‹ä»£ç  `.zshrc`  / `.bashrc` ä¸‹ï¼Œç»ˆç«¯æ¯æ¬¡å¯åŠ¨æ—¶éƒ½ä¼šæ‰§è¡Œæ­¤è„šæœ¬ã€‚

```shell
# éœ€è¦å°†è¿™ä¸ªè·¯å¾„æ”¹ä¸ºä½ å­˜æ”¾è¿™ä¸ªè„šæœ¬çš„è·¯å¾„
cleanFASDScript=~/Documents/Scripts/script/clean_fasd.py
if [ -f "$cleanFASDScript" ]; then
  python3 "$cleanFASDScript" -s true
fi
```

## æ‰“å¼€å·¥ç¨‹

è¿›å…¥åˆ°å·¥ä½œç›®å½•åï¼Œæˆ‘ä»¬éœ€è¦æ‰“å¼€å·¥ç¨‹æ–‡ä»¶ã€‚
å¯¹äº Xcode å·¥ç¨‹ï¼Œå®ƒæä¾›äº† `xed` å‘½ä»¤è®©å¼€å‘è€…ä»å‘½ä»¤è¡Œæ‰“å¼€å·¥ç¨‹æ–‡ä»¶ã€‚

```
xed

Opens files for editing in XCode.

- Open file in XCode:
    xed file1

- Open file(s) in XCode, create if it doesn't exist:
    xed -c filename1

- Open a file in XCode and jump to line number 75:
    xed -l 75 filename
```

ä½†æ˜¯ï¼Œåœ¨ä¸€äº› Edge Casesï¼Œå¦‚ç›®å½•ä¸‹æ²¡æœ‰å·¥ç¨‹æ–‡ä»¶ï¼Œ`xed` ä¼šå°è¯• Markdown æˆ–å…¶ä»–æ–‡ä»¶ï¼Œè¿™é€šå¸¸ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„ã€‚

æ—¢ç„¶ Xcode æä¾›çš„ä¸å¥½ç”¨ï¼Œä¸å¦‚è®©æˆ‘ä»¬è‡ªå·±æ¥åšä¸€ä¸ªå§ã€‚ç¼–å†™ç®€å•çš„ `bash` ä»£ç ï¼Œåˆ©ç”¨ç®€å•çš„æ­£åˆ™åŒ¹é…ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°éœ€è¦æ‰“å¼€çš„å·¥ç¨‹æ–‡ä»¶ã€‚

```shell
oop() {
    file=$(find -E . -regex ".*xcworkspace" -maxdepth 1)
    fileLength=${#file}
    if [ "$fileLength" = 0 ]; then
        file=$(find -E . -regex ".*xcodeproj" -maxdepth 1)
    fi
    fileLength=${#file}

    if [ "$fileLength" = 0 ]; then
        echo ">>> ğŸ¤”  No Xcode Project Found!"
    else
        echo ">>> ğŸ’ª  Opening $file"
        xcode=$(xcode-select -p)
        xcode=$(echo $xcode | cut -d'/' -f-3)
        open -a $xcode $file
    fi
```

> ä¹ æƒ¯ä½¿ç”¨ AppCode çš„è¯ï¼Œå¯ä»¥æŠŠ Bash ä»£ç ä¸­çš„ Xcode æ›¿æ¢ä¸º AppCodeã€‚

åŒæ ·çš„è¿™ä»½ä»£ç éœ€è¦æ”¾åˆ° `.zshrc`  / `.bashrc` ä¸‹ï¼Œæ”¹åŠ¨ä¹‹åéœ€è¦ `source .zshrc/.bashrc` è®©æ”¹åŠ¨ç”Ÿæ•ˆã€‚

å¯¹äºé Xcode å·¥ç¨‹ï¼Œæˆ‘ä¹ æƒ¯ç”¨ VSCode ç¼–è¾‘ï¼Œå®ƒæ˜¯å¦‚æ­¤å¸¸ç”¨ï¼Œä»¥è‡³äºæˆ‘ä¹Ÿä¸ºå®ƒè®¾äº†ä¸€ä¸ªåˆ«åï¼š

```shell
alias c='code .'
```

## æäº¤ä»£ç 

åœ¨æ¯ä¸€ä¸ªä½¿ç”¨ç±» git-flow å¼€å‘æµç¨‹çš„å›¢é˜Ÿä¸­ï¼ŒåŒæ­¥ `dev` ä»£ç å‡ ä¹æ˜¯æ¯æ—¥çš„ä¾‹è¡Œå…¬äº‹ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•çš„å°†ä¸€äº›å‘½ä»¤å°è£…æˆä¸€ä¸ª functionï¼š

```shell
syncdev() {
    git stash

    echo ">>> Updating dev"
    git checkout dev
    git pull origin dev

    echo ">>> Applying diff"
    git co -
    git rebase dev

    git stash pop
}
```

## æ›´å¿«çš„ "Gitlab"

ä½¿ç”¨ [`lab`](https://github.com/zaquestion/lab)ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œç›´æ¥å®Œæˆä¸€äº›å¸¸è§„çš„ Gitlab æ“ä½œã€‚

ä½¿ç”¨ `brew` å¯ä»¥å®‰è£… `lab`:

```shell
$ brew install zaquestion/tap/lab
```

ç¬¬ä¸€æ¬¡ä½¿ç”¨ `lab`ï¼Œéœ€è¦è¾“å…¥ä¸€äº› gitlab çš„ä¿¡æ¯ã€‚

### åˆ›å»º MR

ä½¿ç”¨ labï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ›å»º MRï¼š

```shell
$ lab mr create origin $branch -a $assigne -m $message1 -m $mesasge2
```

å¯¹äºå¤§éƒ¨åˆ†çš„æäº¤ï¼ŒMR çš„ç¬¬ä¸€è¡Œ Message ï¼ˆå³ Titleï¼‰å¯ä»¥ç®€åŒ–ä¸ºæœ€è¿‘ä¸€æ¬¡çš„ Commit Messageã€‚è€Œå¯¹äºæœ‰ Code Review åˆç æœºåˆ¶çš„å›¢é˜Ÿï¼Œmessage çš„ç¬¬äºŒè¡Œé€šå¸¸æ˜¯éœ€è¦è¿›è¡Œ Review çš„åŒäº‹ï¼Œå› æ­¤æˆ‘ä»¬çš„å‘½ä»¤å¯ä»¥ç®€åŒ–æˆï¼š

```shell
# mmr $branch $reviewer
mmr () {
    latestMessage=$(git log -1 --pretty=%B)
    lab mr create origin $1 -a $2 -m $latestMessage -m $2
}
```

ç»è¿‡è¿™è½®ç®€åŒ–ï¼Œåˆ›å»ºä¸€ä¸ª MR åªéœ€ï¼š

```shell
mmr dev @someone
```

ä½ ä¼šçˆ±ä¸Šè¿™ç§è¿‡æ„Ÿè§‰ï¼

## dotfiles

å½“ä¹ æƒ¯åœ¨å‘½ä»¤è¡Œè¿›è¡Œå„ç§æ“ä½œä¹‹åï¼Œæˆ‘ä»¬ä¼šæ²‰æ·€ä¸‹å¾ˆå¤šæœ‰ç”¨çš„å‡½æ•°ï¼åˆ«åï¼é…ç½®ï¼Œè¿™é€šå¸¸æ˜¯å¼€å§‹æ„å»ºè‡ªå·±çš„ dotfiles çš„æ—¶å€™äº†ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ  [dotfiles](https://github.com/mathiasbynens/dotfiles)ã€‚dotfiles å¸®åŠ©æˆ‘ä»¬ç®¡ç†è¿™äº›æ–‡ä»¶ï¼Œä½œä¸ºä¸€ä¸ª bouns pointï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¤šä¸ªè®¾å¤‡ä¸Š"åŒæ­¥" dotfiles äº†ã€‚

## æ€»ç»“

æœ¬æ–‡æ€»ç»“äº†æˆ‘åœ¨æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨å‘½ä»¤è¡Œçš„ä¸€äº›ç»éªŒï¼Œå¸Œæœ›å¯¹å…¶ä»–åŒå­¦æœ‰æ‰€å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿åŒå­¦ä»¬äº¤æµã€‚

æ¯ç§å·¥å…·éƒ½æœ‰é•¿çŸ­ï¼Œå‘½ä»¤è¡Œé•¿åœ¨æ‰§è¡Œä¸€äº›æ“ä½œï¼Œè€Œ GUI é•¿åœ¨ç•Œé¢æŸ¥çœ‹ï¼ˆå¦‚å¯¹æ¯” Diffï¼‰ï¼Œæ²¡æœ‰å¿…è¦å±€é™äºæŸç§å·¥å…·ã€‚é‡è¦æ˜¯çš„ Picking the right tool for the jobã€‚